INSERT INTO Student VALUES('001','李春刚','男','计算机应用','计算机','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
SELECT * FROM Student;

DELETE FROM Student WHERE Sno = '001';

SELECT * FROM Student;

ALTER TABLE Student MODIFY COLUMN Srxsj DATE;

INSERT INTO Student VALUES('001','李春刚','男','计算机应用','计算机','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('002','董雪婷','女','计算机应用','计算机','2019-09-01','03','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('003','陈男','男','电子商务','管理系','2019-09-01','01','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('004','刘波','男','电子商务','管理系','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('005','吴辉','男','计算机应用','计算机','2019-09-01','03','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('006','陈惠惠','女','软件开发','软件','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('007','陈慧','女','软件开发','软件','2019-09-01','01','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('008','王涛','男','计算机应用','计算机','2019-09-01','03','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('009','郭凤丽','女','应用电子','电子','2019-09-01','01','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('010','贾慧','女','应用电子','电子','2019-09-01','03','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('011','陈小琴','女','计算机应用','计算机','2019-09-01','03','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('012','钟志','男','计算机应用','计算机','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('013','彭志勇','男','计算机应用','计算机','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('014','熊小胖','男','计算机应用','计算机','2019-09-01','02','12345678910','2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('015','魏泽丽','女','计算机应用','计算机','2019-09-01','01',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('016', '刀妹', '女', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('017', '陈雪', '女', '计算机应用','计算机','2019-09-01','02',12345678910,'2001-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('018', '陈艾克', '男', '计算机应用','计算机','2019-09-01','01',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('019', '卡萨丁', '男', '计算机应用','计算机','2019-09-01','03',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('020', '莫甘娜', '女', '计算机应用','计算机','2019-09-01','01',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('021', '基兰', '女', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('022', '寒冰', '女', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('023', '塔姆', '男', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('024', '蛮王', '男', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('025', '寡妇', '女', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('026', '炸弹人', '男', '计算机应用','计算机','2019-09-01','01',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('027', '维克多', '男', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('028', '狐狸', '女', '计算机应用','计算机','2019-09-01','02',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('029', '蕾欧娜', '女', '计算机应用','计算机','2019-09-01','01',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);
INSERT INTO Student VALUES('030', '卡莎', '女', '计算机应用','计算机','2019-09-01','01',(NULL),'2000-09-01','呼和浩特市','无','汉族','shen','团员',132);

SELECT * FROM Student;

INSERT INTO Course VALUES('01','计算机基础','王晓梅','101',4,60,1);
INSERT INTO Course VALUES('02','电子商务','李丽','102',6,80,2);
INSERT INTO Course VALUES('03','网页制作','张铁柱','103',6,NULL,NULL);
INSERT INTO Course VALUES('04','软件工程','付大鹏','104',4,NULL,4);
INSERT INTO Course VALUES('05','数据库原理','白一阁','105',6,90,3);
INSERT INTO Course VALUES('06','软件测试','白展堂','201',4,NULL,5);
INSERT INTO Course VALUES('07','安卓应用设计','魏小雨','201',2,NULL,4);
INSERT INTO Course VALUES('08','UML','陈乾','201',5,70,6);
INSERT INTO Course VALUES('09','编译原理','熊军','207',5,NULL,7);
INSERT INTO Course VALUES('10','计算机网络','白一阁','207',4,60,4);

SELECT * FROM Course;

INSERT INTO grade VALUES("001", "05", 82, NULL);
INSERT INTO grade VALUES("011", "05", 96, NULL);
INSERT INTO grade VALUES("003", "05", 97, NULL);
INSERT INTO grade VALUES("004", "05", 65, NULL);
INSERT INTO grade VALUES("017", "05", 76, NULL);
INSERT INTO grade VALUES("017", "01", 86, NULL);
INSERT INTO grade VALUES("017", "02", 96, NULL);
INSERT INTO grade VALUES("017", "03", 88, NULL);
INSERT INTO grade VALUES("017", "04", 89, NULL);
INSERT INTO grade VALUES("017", "06", 92, NULL);
INSERT INTO grade VALUES("017", "07", 90, NULL);
INSERT INTO grade VALUES("017", "08", 75, NULL);
INSERT INTO grade VALUES("017", "09", 84, NULL);
INSERT INTO grade VALUES("017", "10", 83, NULL);
INSERT INTO grade VALUES("012", "01", 86, NULL);
INSERT INTO grade VALUES("012", "02", 96, NULL);
INSERT INTO grade VALUES("012", "03", 88, NULL);
INSERT INTO grade VALUES("012", "04", 89, NULL);
INSERT INTO grade VALUES("012", "05", 89, NULL);
INSERT INTO grade VALUES("012", "06", 92, NULL);
INSERT INTO grade VALUES("012", "07", 90, NULL);
INSERT INTO grade VALUES("012", "08", 88, NULL);
INSERT INTO grade VALUES("012", "09", 84, NULL);
INSERT INTO grade VALUES("012", "10", 83, NULL);
INSERT INTO grade VALUES("007", "01", 52, NULL);
INSERT INTO grade VALUES("007", "02", 52, NULL);
INSERT INTO grade VALUES("007", "03", 52, NULL);
INSERT INTO grade VALUES("007", "04", 52, NULL);
INSERT INTO grade VALUES("007", "05", 53, NULL);
INSERT INTO grade VALUES("007", "06", 59, NULL);
INSERT INTO grade VALUES("007", "07", 56, NULL);
INSERT INTO grade VALUES("007", "08", 52, NULL);
INSERT INTO grade VALUES("007", "09", 52, NULL);
INSERT INTO grade VALUES("007", "10", 52, NULL);
INSERT INTO grade VALUES("014", "05", 52, NULL);
INSERT INTO grade VALUES("014", "06", 59, NULL);
INSERT INTO grade VALUES("014", "07", 58, NULL);
INSERT INTO grade VALUES("014", "08", 59, NULL);
INSERT INTO grade VALUES("030", "05", 52, NULL);
INSERT INTO grade VALUES("030", "06", 59, NULL);
INSERT INTO grade VALUES("030", "07", 58, NULL);
INSERT INTO grade VALUES("002", "01", 88, NULL);
INSERT INTO grade VALUES("002", "02", 78, NULL);
INSERT INTO grade VALUES("002", "03", 92, NULL);
INSERT INTO grade VALUES("002", "04", 96, NULL);
INSERT INTO grade VALUES("002", "05", 83, NULL);
INSERT INTO grade VALUES("002", "06", 91, NULL);
INSERT INTO grade VALUES("002", "07", 70, NULL);
INSERT INTO grade VALUES("002", "08", 68, NULL);
INSERT INTO grade VALUES("002", "09", 58, NULL);
INSERT INTO grade VALUES("002", "10", 88, NULL);
INSERT INTO grade VALUES("001", "02", 58, NULL);
INSERT INTO grade VALUES("001", "03", 68, NULL);
INSERT INTO grade VALUES("001", "08", 78, NULL);
INSERT INTO grade VALUES("004", "10", 88, NULL);
INSERT INTO grade VALUES("004", "09", 88, NULL);
INSERT INTO grade VALUES("004", "08", 88, NULL);
INSERT INTO grade VALUES("006", "09", 88, NULL);
INSERT INTO grade VALUES("006", "10", 88, NULL);
INSERT INTO grade VALUES("006", "05", 88, NULL);
INSERT INTO grade VALUES("006", "04", 88, NULL);
INSERT INTO grade VALUES("005", "07", 83, NULL);
INSERT INTO grade VALUES("005", "08", 98, NULL);
INSERT INTO grade VALUES("005", "09", 86, NULL);
INSERT INTO grade VALUES("005", "05", 59, NULL);
INSERT INTO grade VALUES("005", "02", 88, NULL);
INSERT INTO grade VALUES("005", "10", 88, NULL);
INSERT INTO grade VALUES("008", "04", 83, NULL);
INSERT INTO grade VALUES("008", "05", 79, NULL);
INSERT INTO grade VALUES("008", "10", 66, NULL);
INSERT INTO grade VALUES("009", "01", 66, NULL);
INSERT INTO grade VALUES("009", "03", 86, NULL);
INSERT INTO grade VALUES("009", "06", 96, NULL);
INSERT INTO grade VALUES("009", "08", 86, NULL);
INSERT INTO grade VALUES("009", "10", 86, NULL);
INSERT INTO grade VALUES("010", "10", 66, NULL);
INSERT INTO grade VALUES("010", "05", 79, NULL);
INSERT INTO grade VALUES("010", "06", 89, NULL);
INSERT INTO grade VALUES("010", "07", 80, NULL);
INSERT INTO grade VALUES("010", "09", 75, NULL);
INSERT INTO grade VALUES("013", "02", 75, NULL);
INSERT INTO grade VALUES("013", "04", 85, NULL);
INSERT INTO grade VALUES("013", "05", 55, NULL);
INSERT INTO grade VALUES("013", "06", 65, NULL);
INSERT INTO grade VALUES("013", "08", 75, NULL);
INSERT INTO grade VALUES("013", "09", 95, NULL);
INSERT INTO grade VALUES("015", "05", 75, NULL);
INSERT INTO grade VALUES("015", "10", 75, NULL);
INSERT INTO grade VALUES("015", "09", 75, NULL);
INSERT INTO grade VALUES("015", "03", 75, NULL);

SELECT * FROM grade;

SELECT * FROM Student;

SELECT Student.Sname
FROM Student,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Cno = '05';

SELECT Course.Cno,Course.Cname,Grade.Grades
FROM Student,Course,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Cno = Course.Cno AND Student.Sname = '陈雪';

SELECT Sno,Sname,Sdept
FROM Student
WHERE Sno IN (
	SELECT Sno
	FROM Grade
	GROUP BY Sno
	HAVING COUNT(Grades) = (
		SELECT COUNT(Cno)
		FROM Course
	)
)

SELECT Sno,Sname,Sdept
FROM Student
WHERE Sno NOT IN(
	SELECT DISTINCT(Sno)
	FROM Grade
)

SELECT DISTINCT(Sno)
FROM Grade;

SELECT Cno,Cname
FROM Course
WHERE Cno NOT IN(
	SELECT DISTINCT(Cno)
	FROM Grade
)

SELECT Cno,AVG(grades) AS average,MAX(grades) AS highest,MIN(grades) AS lowest
FROM Grade
GROUP BY Cno

SELECT Sno,MAX(grades) AS high,AVG(grades) AS average
FROM Grade
GROUP BY Sno

SELECT Grade.Sno,Course.Cteacher,Grade.Grades
FROM Grade,Course
WHERE Grade.Cno = Course.Cno AND Course.Cteacher = '付大鹏'

UPDATE Grade
SET Grades = Grades + 1
WHERE Cno IN (
	SELECT Cno
	FROM Course
	WHERE Cteacher = '付大鹏'
)

SELECT Sno,Sname,Ssex,DATEDIFF(YEAR,Sbirth,getdate()) AS Sage
FROM Student -- 挂了

SELECT Sno,Sname,Sdept
FROM Student
WHERE Sname LIKE '陈_'

SELECT Student.Sno,Student.Sname,Grade.Grades
FROM Student,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Cno = '05' AND Grade.grades > 80

SELECT Cno,AVG(Grades) AS average,MAX(Grades) AS highest,MIN(Grades) AS lowest
FROM Grade
GROUP BY Cno
ORDER BY average DESC

SELECT *
FROM Student,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Grades < 60

SELECT Student.Sno,Student.Sname,COUNT(*) AS failcount
FROM(
	SELECT Sno,Cno,Grades
	FROM Grade
	WHERE Grades < 60
) AS failcount
JOIN Student ON failcount.Sno = Student.Sno
GROUP BY Student.Sno
HAVING COUNT(*) > 3

SELECT Student.Sno,Student.Sname,Grade.Grades
FROM Student,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Cno = '05' AND Grade.Grades > (
	SELECT AVG(grades)
	FROM Grade
	WHERE Grade.Cno = '05'
)

SELECT Student.Sno,Student.Sname,Grade.Grades
FROM Student,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Cno = '05'
ORDER BY Grade.Grades DESC
LIMIT 3

SELECT DISTINCT(Student.Sno)
FROM Student,Grade
WHERE Student.Sno = Grade.Sno AND Grade.Grades < 60

SELECT *
FROM Student
WHERE Student.Sno IN(
	SELECT Grade.Sno
	FROM Grade
	WHERE Grade.Grades < 60
)

SELECT DISTINCT(Sno)
FROM Grade -- 有分数的同学的学号

DELETE 
FROM Student
WHERE Student.Sno NOT IN (
SELECT DISTINCT(Sno)
FROM Grade -- 有分数的同学的学号
) -- 这个还不能运行，因为前面有的实验并没有做完

SELECT Student.Sno, Student.Sname, Student.Sdept
FROM Student
JOIN Grade ON Student.Sno = Grade.Sno
JOIN Course ON Grade.Cno = Course.Cno
WHERE Course.Cteacher = '白一阁';

SELECT Student.Sno, Student.Sname, Student.Sdept
FROM Student
JOIN Grade ON Student.Sno = Grade.Sno
JOIN Course ON Grade.Cno = Course.Cno
WHERE Course.Cteacher = '白一阁'
GROUP BY Student.Sno, Student.Sname, Student.Sdept
HAVING COUNT(DISTINCT Course.Cno) = (
    SELECT COUNT(*)
    FROM Course
    WHERE Course.Cteacher = '白一阁'
);

SELECT Sno, Sname, Ssex, TIMESTAMPDIFF(YEAR, Sbirth, CURDATE()) AS age
FROM Student;

